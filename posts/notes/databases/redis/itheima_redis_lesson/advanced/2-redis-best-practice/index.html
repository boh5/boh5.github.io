<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>高级篇（二）Redis 最佳实践 - 黄波的博客</title><meta name=author content="黄波"><meta name=author-link content="https://dilless.github.io"><meta name=description content="1. Redis键值设计 1.1 优雅的key结构 key 最佳实践约定： 遵循基本格式：[业务名称]:[数据名]:[id] 长度不超过44字节 不包含特殊字符 key"><meta name=keywords content="redis,数据库,缓存,最佳实践"><meta itemprop=name content="高级篇（二）Redis 最佳实践"><meta itemprop=description content="1. Redis键值设计 1.1 优雅的key结构 key 最佳实践约定： 遵循基本格式：[业务名称]:[数据名]:[id] 长度不超过44字节 不包含特殊字符 key"><meta itemprop=datePublished content="2022-08-04T00:00:00+08:00"><meta itemprop=dateModified content="2022-08-04T19:43:00+08:00"><meta itemprop=wordCount content="2539"><meta itemprop=image content="https://dilless.github.io/logo.png"><meta itemprop=keywords content="redis,数据库,缓存,最佳实践,"><meta property="og:title" content="高级篇（二）Redis 最佳实践"><meta property="og:description" content="1. Redis键值设计 1.1 优雅的key结构 key 最佳实践约定： 遵循基本格式：[业务名称]:[数据名]:[id] 长度不超过44字节 不包含特殊字符 key"><meta property="og:type" content="article"><meta property="og:url" content="https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/"><meta property="og:image" content="https://dilless.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-04T00:00:00+08:00"><meta property="article:modified_time" content="2022-08-04T19:43:00+08:00"><meta property="og:site_name" content="黄波的博客"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dilless.github.io/logo.png"><meta name=twitter:title content="高级篇（二）Redis 最佳实践"><meta name=twitter:description content="1. Redis键值设计 1.1 优雅的key结构 key 最佳实践约定： 遵循基本格式：[业务名称]:[数据名]:[id] 长度不超过44字节 不包含特殊字符 key"><meta name=application-name content="黄波的博客"><meta name=apple-mobile-web-app-title content="黄波的博客"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#252627"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/><link rel=prev href=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/1-redis-distribute-cache/><link rel=next href=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/3-redis-principle-1-data-structure/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><meta name=google-site-verification content="3_Zf27e0mNtTIsBWn36hi_d4KTxPd2Zh1dsZMVnKK8k"><meta name=baidu-site-verification content="code-VsfDko5mls"><meta name=360-site-verification content="1a8490494ad7f3fe3e0f7e4a61ce0775"><meta name=sogou_site_verification content="OTqUhL8vdL"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"高级篇（二）Redis 最佳实践","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/dilless.github.io\/posts\/notes\/databases\/redis\/itheima_redis_lesson\/advanced\/2-redis-best-practice\/"},"genre":"posts","keywords":"redis, 数据库, 缓存, 最佳实践","wordcount":2539,"url":"https:\/\/dilless.github.io\/posts\/notes\/databases\/redis\/itheima_redis_lesson\/advanced\/2-redis-best-practice\/","datePublished":"2022-08-04T00:00:00+08:00","dateModified":"2022-08-04T19:43:00+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"黄波"},"description":""}</script></head><body header-desktop=sticky header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper github-corner=right><div class=header-title><a href=/ title=黄波的博客><img class="lazyload logo" src=/svg/loading.min.svg data-src=/apple-touch-icon.png data-srcset="/apple-touch-icon.png, /apple-touch-icon.png 1.5x, /apple-touch-icon.png 2x" data-sizes=auto alt=黄波的博客 title=黄波的博客><span class=header-title-text>黄波的博客</span></a><span class=header-subtitle>开发、学习、生活、技术分享</span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class='fa-solid fa-archive fa-fw fa-sm'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/><i class='fa-solid fa-book fa-fw fa-sm'></i> 学习笔记</a></li><li class=menu-item><a class=menu-link href=/about/><i class='fa-solid fa-info-circle fa-fw fa-sm'></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item language"><span title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down"></i></span><ul class=sub-menu><li class=menu-item>没有更多翻译</li></ul></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=黄波的博客><img class="lazyload logo" src=/svg/loading.min.svg data-src=/apple-touch-icon.png data-srcset="/apple-touch-icon.png, /apple-touch-icon.png 1.5x, /apple-touch-icon.png 2x" data-sizes=auto alt=/apple-touch-icon.png title=/apple-touch-icon.png><span class=header-title-text>黄波的博客</span></a><span class=header-subtitle>开发、学习、生活、技术分享</span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class='fa-solid fa-archive fa-fw fa-sm'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/><i class='fa-solid fa-book fa-fw fa-sm'></i> 学习笔记</a></li><li class=menu-item><a class=menu-link href=/about/><i class='fa-solid fa-info-circle fa-fw fa-sm'></i> 关于</a></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li><li class="menu-item language"><span title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down"></i></span>
<select class=language-select onchange="location=this.value"><option disabled>没有更多翻译</option></select></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>高级篇（二）Redis 最佳实践</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://dilless.github.io title=作者 target=_blank rel="external nofollow noopener noreferrer author" class=author><i class="fa-solid fa-user-circle"></i>
黄波</a></span>
<span class=post-category>收录于 <a href=/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;学习笔记</a>&ensp;<a href=/categories/redis/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;redis</a></span></div><div class=post-meta-line><span title="2022-08-04 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-08-04>2022-08-04</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 2539 字&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 6 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-redis键值设计>1. Redis键值设计</a><ul><li><a href=#11-优雅的key结构>1.1 优雅的key结构</a></li><li><a href=#12-拒绝bigkey>1.2 拒绝BigKey</a><ul><li><a href=#121-bigkey的危害>1.2.1 BigKey的危害</a></li><li><a href=#122-如何发现bigkey>1.2.2 如何发现BigKey</a></li><li><a href=#123-如何删除bigkey>1.2.3 如何删除BigKey</a></li></ul></li><li><a href=#13-恰当的数据类型>1.3 恰当的数据类型</a></li></ul></li><li><a href=#2-批处理优化>2. 批处理优化</a><ul><li><a href=#21-pipeline>2.1 pipeline</a></li><li><a href=#22-集群下的批处理>2.2 集群下的批处理</a></li></ul></li><li><a href=#3-服务端优化>3. 服务端优化</a><ul><li><a href=#31-持久化配置>3.1 持久化配置</a></li><li><a href=#32-慢查询优化>3.2 慢查询优化</a></li><li><a href=#33-命令及安全配置>3.3 命令及安全配置</a></li><li><a href=#34-内存配置>3.4 内存配置</a></li><li><a href=#35-集群还是主从>3.5 集群还是主从</a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=1-redis键值设计>1. Redis键值设计</h2><h3 id=11-优雅的key结构>1.1 优雅的key结构</h3><p>key 最佳实践约定：</p><ul><li>遵循基本格式：<code>[业务名称]:[数据名]:[id]</code></li><li>长度不超过44字节</li><li>不包含特殊字符</li></ul><blockquote><p>key是string类型，底层编码包含int、embstr和raw三种。embstr在小于44字节使用，采用连续内存空间，内存占用更小。当字节数大于44字节时，会转为raw模式存储，在raw模式下，内存空间不是连续的，而是采用一个指针指向了另外一段内存空间，在这段空间里存储SDS内容，这样空间不连续，访问的时候性能也就会收到影响，还有可能产生内存碎片。</p></blockquote><h3 id=12-拒绝bigkey>1.2 拒绝BigKey</h3><p>推荐值：</p><ul><li>单个key的value小于10KB</li><li>对于集合类型的key，建议元素数量小于1000</li></ul><h4 id=121-bigkey的危害>1.2.1 BigKey的危害</h4><ul><li>网络阻塞<ul><li>对 BigKey 执行读请求时，少量的 QPS 就可能导致带宽使用率被占满，导致 Redis 实例，乃至所在物理机变慢</li></ul></li><li>数据倾斜<ul><li>BigKey 所在的 Redis 实例内存使用率远超其他实例，无法使数据分片的内存资源达到均衡</li></ul></li><li>Redis 阻塞<ul><li>对元素较多的 hash、list、zset 等做运算会耗时较长，使主线程被阻塞</li></ul></li><li>CPU 压力<ul><li>对 BigKey 的数据序列化和反序列化会导致 CPU 的使用率飙升，影响 Redis 实例和本机其它应用</li></ul></li></ul><h4 id=122-如何发现bigkey>1.2.2 如何发现BigKey</h4><ul><li><code>redis-cli --bigkeys</code></li><li><code>SCAN</code> 命令</li><li>第三方工具</li><li>网络监控</li></ul><h4 id=123-如何删除bigkey>1.2.3 如何删除BigKey</h4><p>BigKey 内存占用较多，即便时删除这样的 key 也需要耗费很长时间，导致 Redis 主线程阻塞，引发一系列问题。</p><p>使用<code>unlink</code> 命令异步删除</p><h3 id=13-恰当的数据类型>1.3 恰当的数据类型</h3><ol><li>例1：比如存储一个User对象，我们有三种存储方式：</li></ol><ul><li>json 字符串：实现简单；但数据耦合</li><li>字段打散：可以访问任意字段；但占用空间大，没法统一控制</li><li>hash（推荐）：底层 ziplist，占用空间小，可以访问任意字段；但代码相对复杂</li></ul><ol start=2><li>例2：假如有hash类型的key，其中有100万对 field 和 value ，field 是自增 id，这个 key 存在什么问题？如何优化？</li></ol><p>存在的问题：</p><ul><li>hash 的 entry 数量超过 500 时，会使用哈希表而不是 ZipList，内存占用较多</li><li>可以通过 hash-max-ziplist-entries 配置 entry 上限。但是如果 entry 过多就会导致 BigKey 问题</li></ul><p>解决方案：</p><ul><li>拆分为小的 hash，将 id / 100 作为 key， 将 id % 100 作为 field，这样每 100 个元素为一个 Hash</li></ul><h2 id=2-批处理优化>2. 批处理优化</h2><h3 id=21-pipeline>2.1 pipeline</h3><p>redis 处理指令是很快的，主要花费的时候在于网络传输。于是乎很容易想到将多条指令批量的传输给 redis</p><p>方案：</p><ul><li><code>mset</code>、<code>hmset</code> 批量插入命令</li><li>pipeline：<code>redis-py</code> 可指定是否 transaction</li></ul><h3 id=22-集群下的批处理>2.2 集群下的批处理</h3><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/1653126446641.png data-srcset="../images/1653126446641.png, ../images/1653126446641.png 1.5x, ../images/1653126446641.png 2x" data-sizes=auto alt=../images/1653126446641.png title=集群下的批处理解决方案></p><p>redis-py:</p><ul><li><code>cluster.mset({'k1': 'v1', 'k2': 'v2', 'k3': 'v3'})</code> 不能用，必须同一个 slot 才行。因此要先用 <code>cluster.keyslot(&lt;key>)</code>分组。</li><li><code>cluster.pipeline().set('k1', 'v1').set('k2', 'v2').set('k3', 'v3').execute()</code> 可以用。</li></ul><h2 id=3-服务端优化>3. 服务端优化</h2><h3 id=31-持久化配置>3.1 持久化配置</h3><ul><li>做<strong>缓存</strong>的 Redis 实例<strong>不要</strong>做持久化</li><li>建议关闭 RDB，<strong>使用 AOF</strong>，RDB 安全性不好，太频繁了性能消耗大</li><li>利用脚本定期在 slave 做 RDB，实现<strong>数据备份</strong></li><li>设置合理的 rewrite 阈值，避免频繁的 bgrewrite</li><li>配置 <code>no-appendfsync-on-rewrite yes</code>，禁止在 rewrite 期间做 AOF， 避免 AOF 引起阻塞（<em>牺牲数据安全性</em>）</li><li>部署相关：<ul><li>要预留足够内存应对 fork 和 rewrite</li><li>单个实例内存上限不要太大（可单机多实例），以加快 fork 速度、减少主从同步、数据迁移压力</li><li>不要和 CPU 密集型应用部署在一起</li><li>不要和高硬盘负载应用部署在一起</li></ul></li></ul><h3 id=32-慢查询优化>3.2 慢查询优化</h3><ol><li>配置慢查询日志</li></ol><ul><li>slowlog-log-slower-than：慢查询阈值，单位是微秒。默认是10000，建议1000</li><li>slowlog-max-len：慢查询日志（本质是一个队列）的长度。默认是128，建议1000</li></ul><ol start=2><li>查看慢查询</li></ol><ul><li><code>slowlog len</code>：查询慢查询日志长度</li><li><code>slowlog get [n]</code>：读取n条慢查询日志</li><li><code>slowlog reset</code>：清空慢查询列表</li></ul><h3 id=33-命令及安全配置>3.3 命令及安全配置</h3><p><a href=https://cloud.tencent.com/developer/article/1039000 target=_blank rel="external nofollow noopener noreferrer">Redis 未授权访问配合 SSH key 文件利用分析</a>漏洞</p><p>为了避免这样的漏洞，这里给出一些建议：</p><ul><li>Redis 一定要设置密码</li><li>禁止线上使用下面命令：keys、flushall、flushdb、config set 等命令。可以利用 rename-command 配置禁用。</li><li>bind 配置：限制网卡，禁止外网网卡访问</li><li>开启防火墙</li><li>不要使用 Root 账户启动 Redis</li><li>尽量不用默认的端口</li></ul><h3 id=34-内存配置>3.4 内存配置</h3><p>当 Redis 内存不足时，可能导致 Key 频繁被删除、响应时间变长、QPS 不稳定等问题。当内存使用率达到 90% 以上时就需要我们警惕，并快速定位到内存占用的原因。</p><table><thead><tr><th><strong>内存占用</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>数据内存</td><td>是Redis最主要的部分，存储Redis的键值信息。主要问题是BigKey问题、内存碎片问题</td></tr><tr><td>进程内存</td><td>Redis主进程本身运⾏肯定需要占⽤内存，如代码、常量池等等；这部分内存⼤约⼏兆，在⼤多数⽣产环境中与Redis数据占⽤的内存相⽐可以忽略。</td></tr><tr><td>缓冲区内存</td><td>一般包括客户端缓冲区、AOF缓冲区、复制缓冲区等。客户端缓冲区又包括输入缓冲区和输出缓冲区两种。这部分内存占用波动较大，不当使用BigKey，可能导致内存溢出。</td></tr></tbody></table><p>查看内存占用命令：</p><ul><li>info memory： 查看内存分配的情况</li><li>memory &mldr;：查看 key 的内存占用情况</li></ul><p>内存缓冲区常见的有三种：</p><ul><li>复制缓冲区：主从复制的 repl_backlog_buf，如果<strong>太小</strong>可能导致频繁的全量复制，影响性能。通过 replbacklog-size 来设置，默认1mb</li><li>AOF 缓冲区：AOF 刷盘之前的缓存区域，AOF 执行 rewrite 的缓冲区。无法设置容量上限</li><li>客户端缓冲区：分为输入缓冲区和输出缓冲区，输入缓冲区最大 1G 且不能设置。<strong>输出缓冲区</strong>（<code>client-output-buffer-limit</code> 配置）可以设置</li></ul><p>处理大量的 big value，那么会导致我们的输出结果过多，如果输出缓存区过大，内存占满，会导致 redis 直接断开，而默认配置的情况下， 其实他是没有大小的，这就比较坑了，内存可能一下子被占满，会直接导致咱们的 redis 断开，所以解决方案有两个</p><ol><li>设置一个大小</li><li>增加我们带宽的大小，避免我们出现大量数据从而直接超过了redis的承受能力</li></ol><h3 id=35-集群还是主从>3.5 集群还是主从</h3><p>集群虽然具备高可用特性，能实现自动故障恢复，但是如果使用不当，也会存在一些问题：</p><ul><li>集群完整性问题：<code>cluster-require-full-coverage</code> 配置是否所有 slot 都能用，集群才提供服务</li><li>集群带宽问题：集群节点之间会不断的互相 Ping 来确定集群中其它节点的状态，节点太多时，会占用很多带宽</li><li>数据倾斜问题</li><li>客户端性能问题</li><li>命令的集群兼容性问题</li><li>lua 和事务问题：lua 和事务都是要保证原子性问题，如果你的 key 不在一个节点，那么是无法保证lua的执行和事务的特性的，所以在集群模式是没有办法执行 lua 和事务的</li></ul><p>单体 Redis（主从 Redis）已经能达到万级别的 QPS，并且也具备很强的高可用特性。如果主从能满足业务需求的情况下，所以如果不是在万不得已的情况下，<strong>尽量不搭建 Redis 集群</strong>。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2022-08-04 19:43:00">更新于 2022-08-04</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-title="高级篇（二）Redis 最佳实践" data-hashtags=redis,数据库,缓存,最佳实践><i class="fa-brands fa-twitter fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-hashtag=redis><i class="fa-brands fa-facebook-square fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 WhatsApp" data-sharer=whatsapp data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-title="高级篇（二）Redis 最佳实践" data-web><i class="fa-brands fa-whatsapp fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-title="高级篇（二）Redis 最佳实践"><i data-svg-src=/lib/simple-icons/icons/line.min.svg></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-title="高级篇（二）Redis 最佳实践"><i class="fa-brands fa-weibo fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Myspace" data-sharer=myspace data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-title="高级篇（二）Redis 最佳实践" data-description><i data-svg-src=/lib/simple-icons/icons/myspace.min.svg></i></a>
<a href=javascript:void(0); title="分享到 Blogger" data-sharer=blogger data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-title="高级篇（二）Redis 最佳实践" data-description><i class="fa-brands fa-blogger fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://dilless.github.io/posts/notes/databases/redis/itheima_redis_lesson/advanced/2-redis-best-practice/ data-title="高级篇（二）Redis 最佳实践"><i class="fa-brands fa-evernote fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw"></i>&nbsp;<a href=/tags/redis/>redis</a>,&nbsp;<a href=/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/>数据库</a>,&nbsp;<a href=/tags/%E7%BC%93%E5%AD%98/>缓存</a>,&nbsp;<a href=/tags/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/>最佳实践</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/notes/databases/redis/itheima_redis_lesson/advanced/1-redis-distribute-cache/ class=prev rel=prev title="高级篇（一）Redis 分布式缓存"><i class="fa-solid fa-angle-left fa-fw"></i>高级篇（一）Redis 分布式缓存</a>
<a href=/posts/notes/databases/redis/itheima_redis_lesson/advanced/3-redis-principle-1-data-structure/ class=next rel=next title="高级篇（三）Redis 原理篇（一）数据结构">高级篇（三）Redis 原理篇（一）数据结构<i class="fa-solid fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=dilless/dilless.github.io data-repo-id=R_kgDOHr9Jag data-category=Announcements data-category-id=DIC_kwDOHr9Jas4CQ396 data-mapping=title data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-loading=lazy crossorigin=anonymous async defer></script><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.101.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel="external nofollow noopener noreferrer" title="FixIt v0.2.16-RC"><img class=fixit-icon src=/images/fixit.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright"><i class="fa-regular fa-copyright fa-fw"></i>
<span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>
<a href=https://dilless.github.io target=_blank rel="external nofollow noopener noreferrer">黄波</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div><div class="footer-line ibruce"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw"></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa fa-spinner fa-spin fa-fw"></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw"></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin fa-fw"></i></span></span></div></div></footer></div><div class=widgets><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fa-solid fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fa-solid fa-comment fa-fw"></i></a></div><a href=https://github.com/dilless title="在 GitHub 上找到我" target=_blank rel="external nofollow noopener noreferrer" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js defer></script><script type=text/javascript src=/lib/lunr/lunr.min.js defer></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js defer></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js async defer></script><script type=text/javascript src=/lib/sharer/sharer.min.js async defer></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js defer></script><script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},comment:{giscus:{darkTheme:"dark",lightTheme:"light"}},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js defer></script><script type=text/javascript src=/js/_custom.min.js defer></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y7BJE11JP4",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-Y7BJE11JP4" async></script></body></html>